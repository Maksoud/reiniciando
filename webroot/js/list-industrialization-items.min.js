jQuery(document).ready(function(t){function e(t){var e=!1;t<0&&(e=!0),t=t.replace(/\D/g,"");var n=(t=new String(Number(t))).length;return 1==n?t=t.replace(/(\d)/,"0,000$1"):2==n?t=t.replace(/(\d)/,"0,00$1"):3==n?t=t.replace(/(\d)/,"0,0$1"):n>=4&&(t=t.replace(/(\d{4})$/,",$1")),e&&(t="-"+t),t}function n(){var n=t("#logo").attr("data-url")+"sells/json_items/?query="+t("#sells_id option:selected").val();t.ajax({url:n,type:"get",dataType:"JSON",data:new FormData(this),processData:!1,contentType:!1,success:function(n,a){if("error"==n.status)for(var r in n.errors)for(var s in t("[name="+r+"]").focus().parent().addClass("has-error"),n.errors[r])t("[name="+r+"]").parent().append('<span class="help-block"><small>'+n.errors[r][s]+"</small></span> ");else{t("#products-table tr>td").remove();for(var o=0;o<n.length;o++){var l,i,d,c=n[o].products_id,p=n[o].code,u=n[o].title,m=n[o].unity,y=n[o].quantity,g=t('<tr style="font-size: 11px;">');l='<td class="text-nowrap" style="vertical-align:middle !important;">\n<input type="hidden" name="ProductList['+c+'][products_id]" id="list_products_id" value="'+c+'">\n<input type="hidden" name="ProductList['+c+'][products_title]" id="list_product" value="'+u+'">\n&nbsp;'+p+" - "+u+"</td>",i='<td class="text-center" style="vertical-align:middle !important;">\n<input type="hidden" name="ProductList['+c+'][unity]" id="list_unity" value="'+m+'">\n&nbsp;'+m+"</td>",d='<td class="text-center" style="vertical-align:middle !important;">\n<input type="hidden" name="ProductList['+c+'][quantity]" id="list_quantity" value="'+String(y.toFixed(4))+'">\n&nbsp;'+e(String(y.toFixed(4)))+"</td>",g.append(l+i+d+'<td rowspan="2" class="text-center bg-gray" style="padding:21px;">\n<button onclick="RemoveTableRow(this)" type="button" class="btn btn-actions fa fa-trash" title="Excluir"></button>\n </td>'),t("#products-table").append(g);var v,f=t('<tr style="font-size: 11px;">');v='<td colspan="3" class="text-right">\n <input type="textarea" name="ProductList['+c+'][obs]" maxlength="300" class="form-control form-control" placeholder="Observações" id="list_obs">\n</td>',f.append(v),t("#products-table").append(f)}}},error:function(t,e,n){console.log("/*******************/"),console.log(t),console.log(e),console.log(n),console.log("/*******************/")}})}n(),t("#sells_id").on("change",function(){n()}),RemoveTableRow=function(e){return t(e).closest("tr").fadeOut(350,function(){t(this).closest("tr").next().remove()}),!1}});