jQuery(document).ready(function(t){function e(t){var e=!1;t<0&&(e=!0),t=t.replace(/\D/g,"");var i=(t=new String(Number(t))).length;return 1==i?t=t.replace(/(\d)/,"0,000$1"):2==i?t=t.replace(/(\d)/,"0,00$1"):3==i?t=t.replace(/(\d)/,"0,0$1"):i>=4&&(t=t.replace(/(\d{4})$/,",$1")),e&&(t="-"+t),t}t("#purchase_requests_id").on("change",function(){!function(){var i=t("#logo").attr("data-url")+"purchaseRequests/json_items/?query="+t("#purchase_requests_id option:selected").val();t.ajax({url:i,type:"get",dataType:"JSON",data:new FormData(this),processData:!1,contentType:!1,success:function(i,n){if("error"==i.status)for(var s in i.errors)for(var d in t("[name="+s+"]").focus().parent().addClass("has-error"),i.errors[s])t("[name="+s+"]").parent().append('<span class="help-block"><small>'+i.errors[s][d]+"</small></span> ");else{t("#products-table tr>td").remove();for(var a=0;a<i.length;a++){var l,r,o,p=i[a].products_id,u=i[a].code,c=i[a].title,h=i[a].unity,m=i[a].quantity,y=t('<tr style="font-size: 11px;">');l='<td colspan="4" class="text-nowrap">\n<input type="hidden" name="ProductList['+p+'][products_id]" id="list_id_product" value="'+p+'">\n<input type="hidden" name="ProductList['+p+'][products_title]" id="list_product" value="'+c+'">\n<input type="hidden" name="ProductList['+p+'][imobilizado]" id="list_imobilizado" value="0">\n&nbsp;'+u+" - "+c+"</td>",r='<td class="text-center">\n<input type="hidden" name="ProductList['+p+'][unity]" id="list_unity" value="'+h+'">\n&nbsp;'+h+"</td>",o='<td class="text-center">\n<input type="hidden" name="ProductList['+p+'][quantity]" id="list_quantity" value="'+String(m.toFixed(4))+'">\n&nbsp;'+e(String(m.toFixed(4)))+"</td>",y.append(l+r+o+'<td rowspan="2" class="text-center bg-gray" style="padding:12px;">\n<button onclick="EditTableRow(this)" type="button" class="btn btn-actions fa fa-pencil" style="vertical-align: middle;" title="Editar"></button>\n<button onclick="RemoveTableRow(this)" type="button" class="btn btn-actions fa fa-trash" style="vertical-align: middle;" title="Excluir"></button>\n</td>'),t("#products-table").append(y);var b,v,g,_,x,f,w=t('<tr style="font-size: 11px;">');b='<td class="text-right">\n<input type="hidden" name="ProductList['+p+'][vlunity]" id="list_vlunity" value="0.0000">\n&nbsp;0,0000</td>',v='<td class="text-right">\n<input type="hidden" name="ProductList['+p+'][vldiscount]" id="list_vldiscount" value="0.00">\n&nbsp;0,00</td>',g='<td class="text-right">\n<input type="hidden" name="ProductList['+p+'][ipi]" id="list_ipi" value="0.00">\n<input type="hidden" name="ProductList['+p+'][peripi]" id="list_peripi" value="0">\n&nbsp;0,00 (0)</td>',_='<td class="text-right">\n<input type="hidden" name="ProductList['+p+'][icms]" id="list_icms" value="0.00">\n<input type="hidden" name="ProductList['+p+'][pericms]" id="list_pericms" value="0">\n&nbsp;0,00 (0)</td>',x='<td class="text-right">\n<input type="hidden" name="ProductList['+p+'][icmssubst]" id="list_icmssubst" value="0.00">\n<input type="hidden" name="ProductList['+p+'][pericmssubst]" id="list_pericmssubst" value="0">\n&nbsp;0,00 (0)</td>',f='<td class="text-right">\n<input type="hidden" name="ProductList['+p+'][vltotal]" id="list_vltotal" value="0.00">\n&nbsp;0,00</td>',w.append(b+v+_+g+x+f),t("#products-table").append(w)}}},error:function(t,e,i){console.log("/*******************/"),console.log(t),console.log(e),console.log(i),console.log("/*******************/")}})}()})});